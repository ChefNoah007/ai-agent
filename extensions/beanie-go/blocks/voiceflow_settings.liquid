{% schema %}
{
  "name": "Voiceflow Settings",
  "target": "body",
  "javascript": "voiceflow-settings.js",
  "settings": []
}
{% endschema %}

<script>
  window.VOICEFLOW_SETTINGS = {% if shop.metafields.voiceflow_settings.api_credentials %}
    {{ shop.metafields.voiceflow_settings.api_credentials.value | json }}
  {% else %}
    {
      "vf_key": "VF.DM.670508f0cd8f2c59f1b534d4.t6mfdXeIfuUSTqUi",
      "vf_project_id": "6703af9afcd0ea507e9c5369",
      "vf_version_id": "6703af9afcd0ea507e9c536a"
    }
  {% endif %};
  
  console.log('Voiceflow settings initialized in voiceflow_settings.liquid:', {
    vf_key: window.VOICEFLOW_SETTINGS.vf_key ? "Present (masked)" : "Missing",
    vf_project_id: window.VOICEFLOW_SETTINGS.vf_project_id || "Missing",
    vf_version_id: window.VOICEFLOW_SETTINGS.vf_version_id || "Missing"
  });
</script>
